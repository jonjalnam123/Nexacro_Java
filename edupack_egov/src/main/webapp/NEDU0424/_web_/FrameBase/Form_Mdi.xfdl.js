(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("Form_Mdi");this.set_titletext("New Form");if(Form==this.constructor){this._setFormPosition(1050,40);}_a=new Button("btnMain","0","10","100","30",null,null,null,null,null,null,this);_a.set_taborder("0");_a.set_text("Main");_a.set_cssclass("btn_MDI_FrmMain");this.addChild(_a.name,_a);_a=new Tab("tabMdi","btnMain:5","10",null,"30","150",null,null,null,null,null,this);_a.set_taborder("1");_a.set_tabindex("0");_a.set_cssclass("tab_MDI_Menu");_a.set_usecontrolkey("false");_a.set_showextrabutton("true");this.addChild(_a.name,_a);_a=new Tabpage("Tabpage2",this.tabMdi);_a.set_text("Tabpage2");this.tabMdi.addChild(_a.name,_a);_a=new Button("btnMaximize",null,"19","21","16","94",null,null,null,null,null,this);_a.set_taborder("2");_a.set_cssclass("btn_MDI_Max");_a.set_tooltiptext("Max");this.addChild(_a.name,_a);_a=new Button("btnCascade",null,"19","21","16","73",null,null,null,null,null,this);_a.set_taborder("3");_a.set_cssclass("btn_MDI_Min");_a.set_tooltiptext("Min");this.addChild(_a.name,_a);_a=new Button("btnHorizontal",null,"19","21","16","52",null,null,null,null,null,this);_a.set_taborder("4");_a.set_cssclass("btn_MDI_H");_a.set_tooltiptext("Horizontal");this.addChild(_a.name,_a);_a=new Button("btnTilevertical",null,"19","21","16","31",null,null,null,null,null,this);_a.set_taborder("5");_a.set_cssclass("btn_MDI_V");_a.set_tooltiptext("Horizontal");this.addChild(_a.name,_a);_a=new Button("btnCloseAll",null,"19","21","16","10",null,null,null,null,null,this);_a.set_taborder("6");_a.set_tooltiptext("CloseAll");_a.set_cssclass("btn_MDI_Allx");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.tabMdi.Tabpage2.form,function(_b){});this.tabMdi.Tabpage2.form.addLayout(_a.name,_a);_a=new Layout("default","",1050,40,this,function(_b){});this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("Form_Mdi.xfdl",function(){this.fvApp=nexacro.getApplication();this.fnAddTab=function(_b){this.tabMdi.insertTabpage(_b.MENU_ID, -1,"",_b.MENU_NAME);};this.Form_Mdi_onload=function(_a,_b){this.tabMdi.removeTabpage(0);};this.tabMdi_onchanged=function(_a,_b){var _c=_a.tabpages[_b.postindex].name;this.fvApp.avWorkFrame[_c].form.setFocus();this.fvApp.avVFrameSet1.set_separatesize("40, *, 0");};this.tabMdi_onextrabuttonclick=function(_a,_b){var _c=_a.tabpages[_b.index].name;this.fvApp.avWorkFrame[_c].form.close();_a.removeTabpage(_b.index);};this.btnMain_onclick=function(_a,_b){this.fvApp.avVFrameSet1.set_separatesize("40, 0, *");};this.Button_onClick=function(_a,_b){var _c=_a.name.replace("btn","");_c=_c.toLowerCase();var _d=this.fvApp.avWorkFrame.frames;trace(_d);switch(_c){case "maximize":for(var _e=0;_e<_d.length;_e++ ){_d[_e].set_showtitlebar(false);_d[_e].set_resizable(true);_d[_e].set_openstatus("maximize");}break;case "closeall":for(var _e=_d.length-1;_e>=0;_e-- ){_d[_e].form.close();this.tabMdi.removeTabpage(_e);}break;default:this.fvApp.avWorkFrame.arrange(_c);for(var _e=0;_e<_d.length;_e++ ){_d[_e].set_showtitlebar(true);}}};});this.on_initEvent=function(){this.addEventHandler("onclick",this.Form_Mdi_onclick,this);this.addEventHandler("onload",this.Form_Mdi_onload,this);this.btnMain.addEventHandler("onclick",this.btnMain_onclick,this);this.tabMdi.addEventHandler("onchanged",this.tabMdi_onchanged,this);this.tabMdi.addEventHandler("onextrabuttonclick",this.tabMdi_onextrabuttonclick,this);this.btnMaximize.addEventHandler("onclick",this.Button_onClick,this);this.btnCascade.addEventHandler("onclick",this.Button_onClick,this);this.btnHorizontal.addEventHandler("onclick",this.Button_onClick,this);this.btnTilevertical.addEventHandler("onclick",this.Button_onClick,this);this.btnCloseAll.addEventHandler("onclick",this.Button_onClick,this);};this.loadIncludeScript("Form_Mdi.xfdl");this.loadPreloadList();_a=null;};})();
(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("testUbrReport");this.set_titletext("Ubi Report");this.getSetter("classname").set("NexacroForm");if(Form==this.constructor){this._setFormPosition(1033,728);}_a=new Dataset("ds_grid1",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"PRODUCTID\" type=\"string\" size=\"255\"/><Column id=\"DETAILCATEGORYID\" type=\"string\" size=\"255\"/><Column id=\"COMPANY\" type=\"string\" size=\"255\"/><Column id=\"MODELNAME\" type=\"string\" size=\"255\"/><Column id=\"UNITCOST\" type=\"string\" size=\"22\"/><Column id=\"DESCRIPTION\" type=\"string\" size=\"255\"/><Column id=\"DISCOUNTRATE\" type=\"string\" size=\"6\"/></ColumnInfo><Rows><Row><Col id=\"PRODUCTID\">AAA</Col><Col id=\"DETAILCATEGORYID\">식품</Col><Col id=\"COMPANY\">청정원</Col><Col id=\"MODELNAME\">A1</Col><Col id=\"UNITCOST\">100</Col><Col id=\"DESCRIPTION\">설명 111</Col><Col id=\"DISCOUNTRATE\">5</Col></Row><Row><Col id=\"PRODUCTID\">BBB</Col><Col id=\"DETAILCATEGORYID\">과자</Col><Col id=\"COMPANY\">농심</Col><Col id=\"MODELNAME\">B1</Col><Col id=\"UNITCOST\">200</Col><Col id=\"DESCRIPTION\">설명 222</Col><Col id=\"DISCOUNTRATE\">10</Col></Row><Row><Col id=\"PRODUCTID\">CCC</Col><Col id=\"DETAILCATEGORYID\">청과</Col><Col id=\"COMPANY\">사과</Col><Col id=\"MODELNAME\">C1</Col><Col id=\"UNITCOST\">300</Col><Col id=\"DESCRIPTION\">설명 333</Col><Col id=\"DISCOUNTRATE\">3</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_grid2",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"BIGAGENTID\" type=\"STRING\" size=\"256\"/><Column id=\"BIGAGENTNAME\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_list",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"code\" type=\"STRING\" size=\"256\"/><Column id=\"value\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"code\">A</Col><Col id=\"value\">Form 임베디드</Col></Row><Row><Col id=\"code\">B</Col><Col id=\"value\">Div 임베디드</Col></Row><Row><Col id=\"code\">C</Col><Col id=\"value\">팝업(Child Form)</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Dataset("ds_blob",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"NAME\" type=\"STRING\" size=\"256\"/><Column id=\"BLOB_IMG\" type=\"BLOB\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_large",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"Col1\" type=\"STRING\" size=\"256\"/><Column id=\"Col2\" type=\"STRING\" size=\"256\"/><Column id=\"Col3\" type=\"STRING\" size=\"256\"/><Column id=\"Col4\" type=\"STRING\" size=\"256\"/><Column id=\"Col5\" type=\"STRING\" size=\"256\"/><Column id=\"Col6\" type=\"STRING\" size=\"256\"/><Column id=\"Col7\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_list2",this);_a.getSetter("firefirstcount").set("0");_a.getSetter("firenextcount").set("0");_a.set_useclientlayout("false");_a.set_updatecontrol("true");_a.set_enableevent("true");_a.set_loadkeymode("keep");_a.set_loadfiltermode("keep");_a.set_reversesubsum("false");_a._setContents("<ColumnInfo><Column id=\"code\" type=\"STRING\" size=\"256\"/><Column id=\"value\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"code\">1건</Col><Col id=\"value\">1건</Col></Row><Row><Col id=\"code\">50</Col><Col id=\"value\">50건</Col></Row><Row><Col id=\"code\">100</Col><Col id=\"value\">1백건</Col></Row><Row><Col id=\"code\">500</Col><Col id=\"value\">5백건</Col></Row><Row><Col id=\"code\">1000</Col><Col id=\"value\">1천건</Col></Row><Row><Col id=\"code\">5000</Col><Col id=\"value\">5천건</Col></Row><Row><Col id=\"code\">10000</Col><Col id=\"value\">1만건</Col></Row><Row><Col id=\"code\">50000</Col><Col id=\"value\">5만건</Col></Row><Row><Col id=\"code\">100000</Col><Col id=\"value\">10만건</Col></Row><Row><Col id=\"code\">150000</Col><Col id=\"value\">15만건</Col></Row><Row><Col id=\"code\">200000</Col><Col id=\"value\">20만건</Col></Row><Row><Col id=\"value\">30만건</Col><Col id=\"code\">300000</Col></Row><Row><Col id=\"code\">400000</Col><Col id=\"value\">40만건</Col></Row><Row><Col id=\"code\">500000</Col><Col id=\"value\">50만건</Col></Row></Rows>");this.addChild(_a.name,_a);_a=new Grid("Grid3","756","10","260","200",null,null,null,null,null,null,this);_a.set_taborder("0");_a.set_binddataset("ds_grid2");_a.getSetter("useinputpanel").set("false");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"112\"/><Column size=\"144\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/></Rows><Band id=\"head\"><Cell text=\"BIGAGENTID\"/><Cell col=\"1\" text=\"BIGAGENTNAME\"/></Band><Band id=\"body\"><Cell text=\"bind:BIGAGENTID\"/><Cell col=\"1\" text=\"bind:BIGAGENTNAME\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btnGridView","8","213","80","23",null,null,null,null,null,null,this);_a.set_taborder("1");_a.set_text("그리드 조회");this.addChild(_a.name,_a);_a=new Combo("cbViewType","98","243","123","23",null,null,null,null,null,null,this);_a.set_taborder("2");_a.set_innerdataset("ds_list");_a.set_codecolumn("code");_a.set_datacolumn("value");_a.set_text("Form 임베디드");_a.set_value("A");_a.set_index("0");this.addChild(_a.name,_a);_a=new Button("btnDb","224","243","70","23",null,null,null,null,null,null,this);_a.set_taborder("3");_a.set_text("DB");this.addChild(_a.name,_a);_a=new Button("btnService","301","243","70","23",null,null,null,null,null,null,this);_a.set_taborder("4");_a.set_text("Service");this.addChild(_a.name,_a);_a=new Button("btnLocalDs","378","243","70","23",null,null,null,null,null,null,this);_a.set_taborder("5");_a.set_text("Local DS");this.addChild(_a.name,_a);_a=new Button("btnRuntimeV","455","243","70","23",null,null,null,null,null,null,this);_a.set_taborder("6");_a.set_text("Runtime(V)");this.addChild(_a.name,_a);_a=new Button("btnRuntimeH","530","243","70","23",null,null,null,null,null,null,this);_a.set_taborder("7");_a.set_text("Runtime(H)");this.addChild(_a.name,_a);_a=new UbiReport("UbiViewer","8","270","452","450",null,null,null,null,null,null,this);_a.set_taborder("10");this.addChild(_a.name,_a);_a=new CheckBox("chSize","7","245","88","20",null,null,null,null,null,null,this);_a.set_taborder("8");_a.set_text("사이즈고정");_a.set_value("true");this.addChild(_a.name,_a);_a=new Div("UbiDiv","470","270","546","490",null,null,null,null,null,null,this);_a.set_taborder("9");_a.set_url("");_a.set_visible("false");this.addChild(_a.name,_a);_a=new Button("btnBlob_DS","606","213","70","23",null,null,null,null,null,null,this);_a.set_taborder("10");_a.set_text("Blob(DS)");this.addChild(_a.name,_a);_a=new Button("btnBlob_SVC","606","243","70","23",null,null,null,null,null,null,this);_a.set_taborder("11");_a.set_text("Blob(SVC)");this.addChild(_a.name,_a);_a=new Button("btnSVC_Large_XML","378","213","70","23",null,null,null,null,null,null,this);_a.set_taborder("12");_a.set_text("SVC(XML)");_a.set_visible("true");this.addChild(_a.name,_a);_a=new Combo("cbRowCnt","98","213","122","23",null,null,null,null,null,null,this);_a.set_taborder("13");_a.set_innerdataset("ds_list2");_a.set_codecolumn("code");_a.set_datacolumn("value");_a.set_text("50건");_a.set_value("50");_a.set_index("1");this.addChild(_a.name,_a);_a=new Button("btnLocalDs_Large_XML","224","213","70","23",null,null,null,null,null,null,this);_a.set_taborder("14");_a.set_text("LDS(XML)");_a.set_visible("true");this.addChild(_a.name,_a);_a=new Button("btnLocalDs_Large_SSV","301","213","70","23",null,null,null,null,null,null,this);_a.set_taborder("15");_a.set_text("LDS(SSV)");_a.set_visible("true");this.addChild(_a.name,_a);_a=new Button("btnSVC_Large_SSV","455","213","70","23",null,null,null,null,null,null,this);_a.set_taborder("16");_a.set_text("SVC(SSV)");this.addChild(_a.name,_a);_a=new Button("btnSVC_Large_SSV2","531","213","70","23",null,null,null,null,null,null,this);_a.set_taborder("17");_a.set_text("SVC(SSV)");this.addChild(_a.name,_a);_a=new Grid("Grid1","8","10","736","200",null,null,null,null,null,null,this);_a.set_taborder("18");_a.set_binddataset("ds_grid1");_a.getSetter("useinputpanel").set("false");_a.set_cellsizingtype("col");_a.set_cellmovingtype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"117\"/><Column size=\"123\"/><Column size=\"225\"/><Column size=\"80\"/><Column size=\"262\"/><Column size=\"80\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\"/><Row size=\"24\" band=\"summ\"/></Rows><Band id=\"head\"><Cell text=\"PRODUCTID\"/><Cell col=\"1\" text=\"DETAILCATEGORYID\"/><Cell col=\"2\" text=\"COMPANY\"/><Cell col=\"3\" text=\"MODELNAME\"/><Cell col=\"4\" text=\"UNITCOST\"/><Cell col=\"5\" text=\"DESCRIPTION\"/><Cell col=\"6\" text=\"DISCOUNTRATE\"/></Band><Band id=\"body\"><Cell text=\"bind:PRODUCTID\"/><Cell col=\"1\" text=\"bind:DETAILCATEGORYID\"/><Cell col=\"2\" style=\"align:left;\" text=\"bind:COMPANY\"/><Cell col=\"3\" style=\"align:left;\" text=\"bind:MODELNAME\"/><Cell col=\"4\" displaytype=\"number\" style=\"align:right;\" text=\"bind:UNITCOST\"/><Cell col=\"5\" style=\"align:left;\" text=\"bind:DESCRIPTION\"/><Cell col=\"6\" style=\"align:right;\" text=\"bind:DISCOUNTRATE\"/></Band><Band id=\"summary\"><Cell colspan=\"4\" text=\"합계\"/><Cell col=\"4\" displaytype=\"number\" expr=\"expr:getSum(&quot;parseInt(UNITCOST)&quot;)\"/><Cell col=\"5\"/><Cell col=\"6\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btn00","706","227","111","28",null,null,null,null,null,null,this);_a.set_taborder("20");_a.set_text("btn00");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.UbiDiv.form,function(_b){});this.UbiDiv.form.addLayout(_a.name,_a);_a=new Layout("default","",this._adjust_width,this._adjust_height,this,function(_b){});this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("SampletUbiReport.xfdl",function(){var _b=this.gfnGetServerUrl();this.UbiViewer.key=getRandomKey();this.UbiViewer.ubiserverurl=_b+"/UbiServer";this.UbiViewer.resource=_b+"/ubi4/js";this.UbiViewer.reporturl=_b+"/ubi4/work/";this.UbiViewer.resid="UBIHTML";this.UbiViewer.scale="-9998";this.UbiViewer.datasource="Tutorial";this.ubiDataType;this.ubiIsRuntime;this.ubiReportFile;this.ubiSvcUrl;this.ubiLocalDS;this.ubiGridObj;this.ubiArg;this.NexaForm_oninit=function(_a,_c){this.UbiViewer.set_left(8);this.UbiViewer.set_top(270);this.UbiViewer.set_width(1008);this.UbiViewer.set_height(490);this.UbiDiv.set_left(8);this.UbiDiv.set_top(270);this.UbiDiv.set_width(1008);this.UbiDiv.set_height(490);};this.btnGridView_onclick=function(_a,_c){var _d="method=getList&nbsp;sqlId=selectMenuList selectMenuGroupList&nbsp;GROUP_ID=ADMIN&nbsp;";this.transaction("grid_search",_b+"/nexadata/ds_all.jsp","input1=ds_input","ds_grid1=product ds_grid2=agent",_d,"",true,0);};this.btnDb_onclick=function(_a,_c){this.ubiDataType=0;this.ubiIsRuntime=false;this.ubiReportFile="ubinexa_db.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=null;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnService_onclick=function(_a,_c){var _d=[];var _e="";_d.push(["ubireport_preview",_b+"/nexadata/ds_all.jsp","ds_list=list","product=SQL01 agent=SQL02",_e,0,this]);this.ubiDataType=1;this.ubiIsRuntime=false;this.ubiReportFile="ubinexa_url.jrf";this.ubiSvcUrl=_d;this.ubiLocalDs=null;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnLocalDs_onclick=function(_a,_c){var _d=[];_d.push(["SQL01",this.ds_grid1]);_d.push(["SQL02",this.ds_grid2]);this.ubiDataType=2;this.ubiIsRuntime=false;this.ubiReportFile="vertical.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=_d;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnRuntimeV_onclick=function(_a,_c){this.ubiDataType=3;this.ubiIsRuntime=true;this.ubiReportFile="vertical.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=null;this.ubiGridObj=this.Grid1;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnRuntimeH_onclick=function(_a,_c){this.ubiDataType=3;this.ubiIsRuntime=true;this.ubiReportFile="horizontal.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=null;this.ubiGridObj=this.Grid1;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnBlob_DS_onclick=function(_a,_c){this.transaction("blob_search",_b+"/nexadata/ds_blob.jsp","","ds_blob=dataset01","","localBlob_Callback",true,0);};this.localBlob_Callback=function(_c,_d,_e){var _f=[];_f.push(["SQL01",this.ds_blob]);this.ubiDataType=2;this.ubiIsRuntime=false;this.ubiReportFile="ubinexa_ds_blob.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=_f;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnBlob_SVC_onclick=function(_a,_c){var _d=[];_d.push(["report_viewing",_b+"/nexadata/ds_blob.jsp","","dataset01=SQL01","",0,this]);this.ubiDataType=1;this.ubiIsRuntime=false;this.ubiReportFile="ubinexa_url_blob.jrf";this.ubiSvcUrl=_d;this.ubiLocalDs=null;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnLocalDs_Large_XML_onclick=function(_a,_c){var _d="";_d="row="+this.cbRowCnt.value+" ";this.transaction("load_data",_b+"/nexadata/ds_large_xml.jsp","","ds_large=DS1",_d,"LocalDs_XML_Callback",true,0);};this.LocalDs_XML_Callback=function(_c,_d,_e){alert("로컬 데이타 생성("+this.ds_large.getRowCount()+"건, XML) 후 미리보기 시작");var _f=[];_f.push(["SQL1",this.ds_large]);this.ubiDataType=2;this.ubiIsRuntime=false;this.ubiReportFile="large1.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=_f;this.ubiGridObj=null;this.ubiArg="";this.ubiPreview();};this.btnLocalDs_Large_SSV_onclick=function(_a,_c){var _d="";_d="row="+this.cbRowCnt.value+" ";this.transaction("load_data",_b+"/nexadata/ds_large_ssv1.jsp","","ds_large=DS1",_d,"LocalDs_SSV_Callback",true,2);};this.LocalDs_SSV_Callback=function(_c,_d,_e){alert("로컬 데이타 생성("+this.ds_large.getRowCount()+"건, SSV) 후 미리보기 시작");var _f=(nexacro.Browser=="Runtime");if(_f){trace("====="+this.ds_large.getRowCount());trace("====="+this.ds_large.saveSSV());}else{console.log("====="+this.ds_large.getRowCount());console.log("====="+this.ds_large.saveSSV());}var _g=[];_g.push(["SQL1",this.ds_large]);this.ubiDataType=2;this.ubiIsRuntime=false;this.ubiReportFile="large1.jrf";this.ubiSvcUrl=null;this.ubiLocalDs=_g;this.ubiGridObj=null;this.ubiArg="";this.ubiPreview();};this.btnSVC_Large_XML_onclick=function(_a,_c){alert("서비스 호출 방식으로 ("+this.cbRowCnt.value+"건, XML) 미리보기 시작");var _d="";_d="row="+this.cbRowCnt.value+" ";var _e=[];_e.push(["ubireport_preview",_b+"/nexadata/ds_large_xml.jsp","","DS1=SQL1",_d,0,this]);this.ubiDataType=1;this.ubiIsRuntime=false;this.ubiReportFile="large1.jrf";this.ubiSvcUrl=_e;this.ubiLocalDs=null;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnSVC_Large_SSV1_onclick=function(_a,_c){alert("서비스 호출 방식으로 ("+this.cbRowCnt.value+"건, SSV) 미리보기 시작");var _d="";_d="row="+this.cbRowCnt.value+" ";var _e=[];_e.push(["ubireport_preview",_b+"/nexadata/ds_large_ssv1.jsp","","DS1=SQL1",_d,0,2,this]);this.ubiDataType=1;this.ubiIsRuntime=false;this.ubiReportFile="large1.jrf";this.ubiSvcUrl=_e;this.ubiLocalDs=null;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.btnSVC_Large_SSV2_onclick=function(_a,_c){alert("대량 데이터 리포트 미리보기 시작(서비스 호출 방식, SSV)(프리폼 서식)");if(this.cbRowCnt.value>10000){alert('조회 건수가 너무 많습니다. 10,000건 이하로 조회해 주세요');return false;}var _d="";_d="row="+this.cbRowCnt.value+" ";_d+="gubun=DS1"+" ";var _e="";_e="row="+this.cbRowCnt.value+" ";_e+="gubun=DS2"+" ";var _f=[];_f.push(["master_data",_b+"/nexadata/ds_large_ssv2.jsp","","DS1=SQL1",_d,0,2,this]);_f.push(["detail_data",_b+"/nexadata/ds_large_ssv2.jsp","","DS2=SQL2",_e,0,2,this]);this.ubiDataType=1;this.ubiIsRuntime=false;this.ubiReportFile="large2.jrf";this.ubiSvcUrl=_f;this.ubiLocalDs=null;this.ubiGridObj=null;this.ubiArg="COMPANY#유비디시전#HOMEPAGE#http://www.ubireport.com#";this.ubiPreview();};this.ubiPreview=function(){this.UbiViewer.localdatasets=[];if(this.cbViewType.value=="A"){if(this.ubiDataType==3){this.showEmbededRuntimeReport();}else{this.showEmbededReport();}}else if(this.cbViewType.value=="B"){this.UbiDiv.set_url("");this.UbiDiv.set_url("Cmm::CmmUbiReport.xfdl");}else if(this.cbViewType.value=="C"){var _c={ubiIsRuntime:this.ubiIsRuntime,ubiReportFile:this.ubiReportFile,ubiSvcUrl:this.ubiSvcUrl,ubiLocalDs:this.ubiLocalDs,ubiGridObj:this.ubiGridObj,ubiArg:this.ubiArg};this.showPopupReport(_c);}else if(this.cbViewType.value=="D"){var _c={ubiIsRuntime:this.ubiIsRuntime,ubiReportFile:this.ubiReportFile,ubiSvcUrl:this.ubiSvcUrl,ubiLocalDs:this.ubiLocalDs,ubiGridObj:this.ubiGridObj,ubiArg:this.ubiArg};nexacro.open("print_popup","Cmm::CmmUbiReport.xfdl",this,{a:'aaa',b:'bbb'},"showtitlebar=true showstatusbar=false",0,0,640,480);}else{alert("조회 형태를 선택하세요.");}};this.showEmbededReport=function(_c){this.UbiViewer.jrffile=this.ubiReportFile;this.UbiViewer.arg=this.ubiArg;if(this.ubiDataType==1){if(this.ubiSvcUrl!=null){for(var _e=0;_e<this.ubiSvcUrl.length;_e++ ){var _d=this.ubiSvcUrl[_e];if(_d.length>7){this.UbiViewer.addTransaction2(_d[7],_d[0],_d[1],_d[2],_d[3],_d[4],_d[5],_d[6]);}else{this.UbiViewer.addTransaction(_d[6],_d[0],_d[1],_d[2],_d[3],_d[4],_d[5]);}}}}else if(this.ubiDataType==2){if(this.ubiLocalDs!=null){for(var _e=0;_e<this.ubiLocalDs.length;_e++ ){var _d=this.ubiLocalDs[_e];this.UbiViewer.setDataset(_d[0],_d[1]);}}}this.UbiViewer.retrieve(this,"UbiPreviewEnd");};this.showPopupReport=function(_c){var _d=new ChildFrame();_d.init("UbiReport",30,30,900,600,null,null,"Cmm::CmmUbiReport.xfdl");var _e=_d.showModal(null,_c,this);};this.showEmbededRuntimeReport=function(_c){this.UbiViewer.jrffile=this.ubiReportFile;this.UbiViewer.arg=this.ubiArg;var _d=this.ubiGridObj.getFormatRowCount();var _e=this.ubiGridObj.getFormatColCount();var _f=new Array;var _g=new Array;var _h="230.230.230";var _i="240.240.240";var _j=0;var _k=0;var _l=0;var _m=0;var _n="";var _o="";var _p=0;var _q=0;for(_j=0;_j<_d;_j++ ){_n=this.ubiGridObj.getFormatRowProperty(_j,"band");if(_n==_o){_m++ ;}else{_m=0;}_g[_j]=this.ubiGridObj.getFormatRowSize(_j,_m,false);_o=_n;}for(_j=0;_j<_e;_j++ ){_f[_j]=this.ubiGridObj.getRealColSize(_j);}var _r=0;var _s=0;var _t=this.UbiViewer.getDesignDataset(this);_o="";var _u=0;var _v=0;var _w=0;var _x=0;var _y=0;var _z=0;var _aa=0;var _ab=0;var _ac=0;var _ad=0;var _ae="";_v=_t.addRow();_t.setColumn(_v,"type","widths");_t.setColumn(_v,"text",_f);_t.setColumn(_v,"summarytype",this.ubiGridObj.summarytype);_v=_t.addRow();_t.setColumn(_v,"type","heights");_t.setColumn(_v,"text",_g);for(_j=0;_j<_d;_j++ ){_n=this.ubiGridObj.getFormatRowProperty(_j,"band");if(_n!=_o){if(_n=="head"){_u= -1;_ae=_h;}else if(_n=="body"){_u=0;_ae="";}else if(_n=="summ"){_u= -2;_ae=_i;}_r=this.ubiGridObj.getCellCount(_n);for(_k=0;_k<_r;_k++ ){_w=this.ubiGridObj.getCellProperty(_n,_k,"row");_x=this.ubiGridObj.getCellProperty(_n,_k,"col");_z=this.ubiGridObj.getCellProperty(_n,_k,"rowspan");_y=this.ubiGridObj.getCellProperty(_n,_k,"colspan");_v=_t.addRow();_t.setColumn(_v,"type",_n);_t.setColumn(_v,"row",_w);_t.setColumn(_v,"col",_x);_t.setColumn(_v,"rowspan",_z);_t.setColumn(_v,"colspan",_y);_t.setColumn(_v,"align",this.ubiGridObj.getCellProperty(_n,_k,"align"));if(_u!=0){_t.setColumn(_v,"text",this.ubiGridObj.getCellText(_u,_k));}_t.setColumn(_v,"bgcolor",_ae);_t.setColumn(_v,"leftmargin","2");_t.setColumn(_v,"rightmargin","2");}}_o=_n;}this.addChild(_t.name,_t);_r=this.ubiGridObj.getCellCount("Body");_s=this.ubiGridObj.rowcount;var _af=new Dataset("dsGrid",this);this.addChild(_af.name,_af);for(_j=0;_j<_r;_j++ ){_af.addColumn("column"+_j,"string");}for(_k=0;_k<_s;_k++ ){_af.addRow();for(_l=0;_l<_r;_l++ ){_af.setColumn(_k,_l,this.ubiGridObj.getCellText(_k,_l));}}this.UbiViewer.setRuntimeData(_t,_af);this.removeChild(_t.name);this.removeChild(_af.name);this.UbiViewer.retrieve(this,"UbiPreviewEnd");};this.UbiPreviewEnd=function(){var _c=50;try{if(_c<=this.UbiViewer.getTotalPage()){this.UbiViewer.setEnableToolbar("PRINT_PDF",false);this.UbiViewer.setEnableToolbar("PRINT_HTML",false);this.UbiViewer.setEnableToolbar("PRINT_UBI",true);this.UbiViewer.setPluginProgress(true);}else{this.UbiViewer.setEnableToolbar("PRINT_PDF",true);this.UbiViewer.setEnableToolbar("PRINT_HTML",true);this.UbiViewer.setEnableToolbar("PRINT_UBI",false);this.UbiViewer.setPluginProgress(false);}}catch(e){}if(nexacro.Browser=='Runtime'){this.UbiViewer.setPluginProgress(true);}};this.UbiPrintEnd=function(_c){if(nexacro.Browser=='Runtime'){trace("Print Flag - "+this.UbiViewer.getPrintStatus());}else{console.log("Print Flag - "+_c);}};this.UbiExportEnd=function(_c,_d){if(nexacro.Browser=='Runtime'){trace("Export FileName - "+this.UbiViewer.getVariable('exportFilePath'));}else{console.log("Export Flag - "+_c+", FileName - "+_d);}};this.UbiLinkButtonDown=function(_c,_d){};this.cbViewType_onitemchanged=function(_a,_c){this.ubiDataType=null;this.ubiIsRuntime=null;this.ubiReportFile=null;this.ubiSvcUrl=null;this.ubiLocalDS=null;this.ubiGridObj=null;this.ubiArg=null;if(this.cbViewType.value=="A"){this.UbiViewer.set_visible(true);this.UbiDiv.set_visible(false);}else if(this.cbViewType.value=="B"){this.UbiViewer.set_visible(false);this.UbiDiv.set_visible(true);}else{this.UbiViewer.set_visible(false);this.UbiDiv.set_visible(false);}};this.chSize_onchanged=function(_a,_c){if(this.chSize.value){this.UbiViewer.set_width(1008);this.UbiViewer.set_height(490);this.UbiViewer.set_right(0);this.UbiViewer.set_bottom(0);this.UbiDiv.set_width(1008);this.UbiDiv.set_height(490);this.UbiDiv.set_right(0);this.UbiDiv.set_bottom(0);}else{this.UbiViewer.set_width(0);this.UbiViewer.set_height(0);this.UbiViewer.set_right(8);this.UbiViewer.set_bottom(8);this.UbiDiv.set_width(0);this.UbiDiv.set_height(0);this.UbiDiv.set_right(8);this.UbiDiv.set_bottom(8);}};this.NexaForm_onload=function(_a,_c){};this.replaceAll=function(_c,_d,_e){return _c.split(_d).join(_e);};function getRandomKey(){var _c="";var _d=new Date();var _e=_d.getFullYear();var _f=_d.getMonth()+1;var _g=_d.getDate();var _h=_d.getHours();var _i=_d.getMinutes();var _j=_d.getSeconds();var _k=_d.getMilliseconds();if((""+_f).length==1){_f="0"+_f;}if((""+_g).length==1){_g="0"+_g;}if((""+_h).length==1){_h="0"+_h;}if((""+_i).length==1){_i="0"+_i;}if((""+_j).length==1){_j="0"+_j;}_c=(''+_e+_f+_g+_h+_i+_j+_k)+'_'+((Math.random()* (1<<30)).toString(16).replace('.',''));return _c;}this.btn00_onclick=function(_a,_c){ubiLocalDs=[];ubiLocalDs.push(["aaa",this.ds_grid1]);ubiLocalDs.push(["bbb",null]);for(var _e=0;_e<ubiLocalDs.length;_e++ ){trace("======= i : "+_e);var _d=ubiLocalDs[_e];this.UbiViewer.setDataset(_d[0],_d[1]);}this.UbiDiv.set_url("");this.UbiDiv.set_url("Cmm::CmmUbiReport.xfdl");};});this.on_initEvent=function(){this.addEventHandler("onload",this.NexaForm_onload,this);this.addEventHandler("oninit",this.NexaForm_oninit,this);this.btnGridView.addEventHandler("onclick",this.btnGridView_onclick,this);this.cbViewType.addEventHandler("onitemchanged",this.cbViewType_onitemchanged,this);this.btnDb.addEventHandler("onclick",this.btnDb_onclick,this);this.btnService.addEventHandler("onclick",this.btnService_onclick,this);this.btnLocalDs.addEventHandler("onclick",this.btnLocalDs_onclick,this);this.btnRuntimeV.addEventHandler("onclick",this.btnRuntimeV_onclick,this);this.btnRuntimeH.addEventHandler("onclick",this.btnRuntimeH_onclick,this);this.chSize.addEventHandler("onchanged",this.chSize_onchanged,this);this.btnBlob_DS.addEventHandler("onclick",this.btnBlob_DS_onclick,this);this.btnBlob_SVC.addEventHandler("onclick",this.btnBlob_SVC_onclick,this);this.btnSVC_Large_XML.addEventHandler("onclick",this.btnSVC_Large_XML_onclick,this);this.cbRowCnt.addEventHandler("onitemchanged",this.cbViewType_onitemchanged,this);this.btnLocalDs_Large_XML.addEventHandler("onclick",this.btnLocalDs_Large_XML_onclick,this);this.btnLocalDs_Large_SSV.addEventHandler("onclick",this.btnLocalDs_Large_SSV_onclick,this);this.btnSVC_Large_SSV.addEventHandler("onclick",this.btnSVC_Large_SSV1_onclick,this);this.btnSVC_Large_SSV2.addEventHandler("onclick",this.btnSVC_Large_SSV2_onclick,this);this.btn00.addEventHandler("onclick",this.btn00_onclick,this);};this.loadIncludeScript("SampletUbiReport.xfdl");this.loadPreloadList();_a=null;};})();
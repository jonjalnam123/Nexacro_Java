(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("SampleGridCalendar");this.set_titletext("그리드 달력");if(Form==this.constructor){this._setFormPosition(1038,650);}_a=new Dataset("dsCalendar",this);_a._setContents("<ColumnInfo><Column id=\"day0\" type=\"STRING\" size=\"256\"/><Column id=\"day1\" type=\"STRING\" size=\"256\"/><Column id=\"day2\" type=\"STRING\" size=\"256\"/><Column id=\"day3\" type=\"STRING\" size=\"256\"/><Column id=\"day4\" type=\"STRING\" size=\"256\"/><Column id=\"day5\" type=\"STRING\" size=\"256\"/><Column id=\"day6\" type=\"STRING\" size=\"256\"/><Column id=\"hol0\" type=\"STRING\" size=\"256\"/><Column id=\"hol1\" type=\"STRING\" size=\"256\"/><Column id=\"hol2\" type=\"STRING\" size=\"256\"/><Column id=\"hol3\" type=\"STRING\" size=\"256\"/><Column id=\"hol4\" type=\"STRING\" size=\"256\"/><Column id=\"hol5\" type=\"STRING\" size=\"256\"/><Column id=\"hol6\" type=\"STRING\" size=\"256\"/></ColumnInfo><Rows><Row/><Row/><Row/><Row/><Row/><Row/></Rows>");this.addChild(_a.name,_a);_a=new Grid("grdCal","10","105",null,null,"10","7",null,null,null,null,this);_a.set_taborder("0");_a.set_binddataset("dsCalendar");_a.set_selecttype("cell");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"100\"/><Column size=\"30\"/><Column size=\"100\"/><Column size=\"30\"/><Column size=\"100\"/><Column size=\"30\"/><Column size=\"100\"/><Column size=\"30\"/><Column size=\"100\"/><Column size=\"30\"/><Column size=\"100\"/><Column size=\"30\"/><Column size=\"100\"/></Columns><Rows><Row size=\"24\" band=\"head\"/><Row size=\"24\" band=\"head\"/><Row size=\"61\"/></Rows><Band id=\"head\"><Cell colspan=\"2\" text=\"◀\"/><Cell col=\"2\" colspan=\"10\"/><Cell col=\"12\" colspan=\"2\" text=\"▶\"/><Cell row=\"1\" colspan=\"2\" text=\"일요일\" expandchar=\"sunday\"/><Cell row=\"1\" col=\"2\" colspan=\"2\" text=\"월요일\" expandchar=\"monday\"/><Cell row=\"1\" col=\"4\" colspan=\"2\" text=\"화요일\" expandchar=\"tuesday\"/><Cell row=\"1\" col=\"6\" colspan=\"2\" text=\"수요일\" expandchar=\"wednesday\"/><Cell row=\"1\" col=\"8\" colspan=\"2\" text=\"목요일\" expandchar=\"thursday\"/><Cell row=\"1\" col=\"10\" colspan=\"2\" text=\"금요일\" expandchar=\"friday\"/><Cell row=\"1\" col=\"12\" colspan=\"2\" text=\"토요일\" expandchar=\"saturday\"/></Band><Band id=\"body\"><Cell text=\"bind:day0\" color=\"red\"/><Cell col=\"1\" text=\"bind:hol0\" color=\"red\"/><Cell col=\"2\" text=\"bind:day1\"/><Cell col=\"3\" text=\"bind:hol1\"/><Cell col=\"4\" text=\"bind:day2\"/><Cell col=\"5\" text=\"bind:hol2\"/><Cell col=\"6\" text=\"bind:day3\"/><Cell col=\"7\" text=\"bind:hol3\"/><Cell col=\"8\" text=\"bind:day4\"/><Cell col=\"9\" text=\"bind:hol4\"/><Cell col=\"10\" text=\"bind:day5\"/><Cell col=\"11\" text=\"bind:hol5\"/><Cell col=\"12\" text=\"bind:day6\" color=\"blue\"/><Cell col=\"13\" text=\"bind:hol6\" color=\"blue\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Static("sta00","10","0","161","30",null,null,null,null,null,null,this);_a.set_taborder("1");_a.set_text("그리드 달력");_a.set_cssclass("sta_WF_TitleMain");this.addChild(_a.name,_a);_a=new Static("stc","10","35",null,"40","10",null,null,null,null,null,this);_a.set_taborder("2");_a.set_text("Grid를 통해 달력을 표현한 샘플이다.");_a.set_cssclass("sta_WF_Desc");this.addChild(_a.name,_a);_a=new Layout("default","",1038,650,this,function(_b){});_a.set_mobileorientation("landscape");this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("SampleGridCalendar.xfdl",function(){this.form_onload=function(_a,_b){this.gfnFormOnLoad(this);var _c=this.gfnGetDate();this.fnDrawCalendar(this.dsCalendar,this.grdCal,_c.substr(0,6));};this.fnDrawCalendar=function(_b,_c,_d){var _e,_f,_g,_h;var _i,_j,_k;var _l,_m;_c.UserData=_d;_m=this.gfnGetHolidays(parseInt(_d.substr(0,4),10));_c.setCellProperty("Head",1,"text",_d.substr(0,4)+" - "+parseInt(_d.substr(4,2)));_b.clearData();_i=this.gfnGetDay(_d+"01");_j=this.gfnGetLastDate(_d).substr(6,2);_g=_b.addRow();for(_e=1,_f=_i;_e<=_j;_e++ ){_b.setColumn(_g,"day"+_f,_e);_l=this.fnIsHoliday(_d+this.gfnRight("0"+_e,2),_m);if(_l!=""){_b.setColumn(_g,"hol"+_f,_l);}_f=(_f+1)%7;if(_f==0&&_e!=_j){_g=_b.addRow();}}};this.fnIsHoliday=function(_b,_c){var _d;for(_d=0;_d<_c.length;_d++ ){if(_c[_d].substr(0,8)==_b){return _c[_d].substr(8);}}return "";};this.grdCal_onheadclick=function(_a,_b){var _c,_d;_c=_a.UserData;if(_b.cell==0){_d=this.gfnAddMonth(_c+"01", -1);_c=_d.substr(0,6);this.fnDrawCalendar(this.dsCalendar,_a,_c);}else if(_b.cell==2){_d=this.gfnAddMonth(_c+"01",1);_c=_d.substr(0,6);this.fnDrawCalendar(this.dsCalendar,_a,_c);}};});this.on_initEvent=function(){this.addEventHandler("onload",this.form_onload,this);this.grdCal.addEventHandler("onheadclick",this.grdCal_onheadclick,this);};this.loadIncludeScript("SampleGridCalendar.xfdl");this.loadPreloadList();_a=null;};})();
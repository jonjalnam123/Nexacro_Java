(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("CmmColumnHide");this.set_titletext("그리드 컬럼숨김");if(Form==this.constructor){this._setFormPosition(300,415);}_a=new Dataset("dsFilter",this);_a._setContents("<ColumnInfo><Column id=\"columnText\" type=\"STRING\" size=\"256\"/><Column id=\"chk\" type=\"STRING\" size=\"256\"/><Column id=\"columnIndex\" type=\"STRING\" size=\"256\"/><Column id=\"body\" type=\"STRING\" size=\"256\"/><Column id=\"orgSize\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dsCopy",this);_a._setContents("");this.addChild(_a.name,_a);_a=new Grid("grdList","15","15",null,"346","15",null,null,null,null,null,this);_a.set_taborder("0");_a.set_binddataset("dsFilter");_a.set_autofittype("col");_a.getSetter("griduserproperty").set("!sort,!rowfix,!colfix,!filter,!initial");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\" band=\"left\"/><Column size=\"225\"/></Columns><Rows><Row size=\"28\" band=\"head\"/><Row size=\"30\"/></Rows><Band id=\"head\"><Cell displaytype=\"checkbox\" edittype=\"checkbox\"/><Cell col=\"1\" text=\"컬럼선택\" expandchar=\"popup.columnselect\"/></Band><Band id=\"body\"><Cell displaytype=\"checkboxcontrol\" edittype=\"checkbox\" text=\"bind:chk\"/><Cell col=\"1\" text=\"bind:columnText\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Button("btnOK","84","372","60","28",null,null,null,null,null,null,this);_a.set_taborder("1");_a.set_text("확인");_a.set_tabstop("true");_a.getSetter("uWord").set("popup.ok");_a.set_cssclass("btn_POP_Btn");this.addChild(_a.name,_a);_a=new Button("btnCancel","149","372","60","28",null,null,null,null,null,null,this);_a.set_taborder("2");_a.set_text("닫기");_a.getSetter("uWord").set("popup.close");_a.set_cssclass("btn_POP_Btn");this.addChild(_a.name,_a);_a=new Static("Static03","0","15","15","400",null,null,null,null,null,null,this);_a.set_taborder("3");_a.set_background("mediumturquoise");_a.set_textAlign("center");_a.set_visible("false");_a.set_opacity("0.50");_a.set_text("15\r\npx");this.addChild(_a.name,_a);_a=new Static("Static08","0",null,"300","15",null,"0",null,null,null,null,this);_a.set_taborder("4");_a.set_background("salmon");_a.set_textAlign("center");_a.set_visible("false");_a.set_opacity("0.50");_a.set_text("15\r\npx");this.addChild(_a.name,_a);_a=new Static("Static01",null,"15","15","400","0",null,null,null,null,null,this);_a.set_taborder("5");_a.set_background("mediumturquoise");_a.set_textAlign("center");_a.set_visible("false");_a.set_opacity("0.50");_a.set_text("15\r\npx");this.addChild(_a.name,_a);_a=new Static("Static02","0","0","300","15",null,null,null,null,null,null,this);_a.set_taborder("6");_a.set_background("salmon");_a.set_textAlign("center");_a.set_visible("false");_a.set_opacity("0.50");_a.set_text("15\r\npx");this.addChild(_a.name,_a);_a=new Grid("grd00","301","16","339","344",null,null,null,null,null,null,this);_a.set_taborder("7");_a.set_visible("false");_a._setContents("");this.addChild(_a.name,_a);_a=new Layout("default","",300,415,this,function(_b){});_a.set_mobileorientation("landscape");this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("CmmColumnHide.xfdl",function(){this.fvTargetGrid;this.fvTargetDataset;this.form_onload=function(_a,_b){this.gfnFormOnLoad(this);this.fvTargetGrid=this.getOwnerFrame().pvGrid;this.fvTargetDataset=this.fvTargetGrid.getBindDataset();this.fnGetHeadText();this.fnSetGrd();};this.fnSetGrd=function(){this.grd00.set_enableredraw(false);this.grd00.set_formats(this.fvTargetGrid.orgformat2);this.grd00.set_enableredraw(true);};this.fnGetHeadText=function(){this.grdList.set_enableredraw(false);for(var _j=0;_j<this.fvTargetGrid.getFormatColCount();_j++ ){var _b="";for(var _k=0,_l=this.fvTargetGrid.getCellCount("head");_k<_l;_k++ ){var _c=0;var _d=this.fvTargetGrid.getCellProperty("head",_k,"row");if(_c<_d){_c=_d;}var _e=parseInt(this.fvTargetGrid.getCellProperty("head",_k,"row"));var _f=parseInt(this.fvTargetGrid.getCellProperty("head",_k,"col"));var _g=this.fvTargetGrid.getCellProperty("head",_k,"text");if(_e==_c&&_f==_j){_b+="["+_g+"]";}}var _h=1;var _i=_j;if(this.fvTargetGrid.getRealColSize(_i)==0){_h=0;}if(_b=="[순번]"||_b=="[상태]"){continue;}if(_b=="[0]"&&this.fvTargetGrid.getCellProperty("Body",_j,"text")=="bind:gridCmmcheck"){continue;}var _e=this.dsFilter.addRow();this.dsFilter.setColumn(_e,"columnText",_b);this.dsFilter.setColumn(_e,"chk",_h);this.dsFilter.setColumn(_e,"columnIndex",_i);}this.grdList.set_enableredraw(true);};this.btnCancel_onclick=function(_a,_b){this.close();};this.btnOK_onclick=function(_a,_b){var _c=0;var _d=this.fvTargetGrid.arrprop;for(var _k=0;_k<_d.length;_k++ ){var _e=this.fvTargetGrid.arrprop[_k];if(_e=="checkbox"||_e=="status"||_e=="no"){_c+=1;}}this.fvTargetGrid.set_enableredraw(false);var _f=this.dsFilter.getRowCount();for(var _l=0;_l<_f;_l++ ){var _g=this.dsFilter.getColumn(_l,"chk");var _h=nexacro.toNumber(this.dsFilter.getColumn(_l,"columnIndex"));var _i=0;if(_g==1){var _j=_h-_c;_i=this.grd00.getFormatColSize(_j);}this.fvTargetGrid.setFormatColProperty(_h,"size",_i);}this.fvTargetGrid.set_enableredraw(true);this.close();};});this.on_initEvent=function(){this.addEventHandler("onload",this.form_onload,this);this.btnOK.addEventHandler("onclick",this.btnOK_onclick,this);this.btnCancel.addEventHandler("onclick",this.btnCancel_onclick,this);};this.loadIncludeScript("CmmColumnHide.xfdl");this.loadPreloadList();_a=null;};})();
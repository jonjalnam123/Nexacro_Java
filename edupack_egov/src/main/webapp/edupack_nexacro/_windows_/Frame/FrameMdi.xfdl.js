(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("frameMDI");this.set_scrolltype("none");this.set_titletext("frameMDI");this.set_scrollbartype("none");this.set_background("#f3f5f6");if(Form==this.constructor){this._setFormPosition(1058,40);}_a=new Static("staBgLine","949","0",null,null,"10","0",null,null,null,null,this);_a.set_taborder("5");_a.set_cssclass("sta_MDI_Line");_a.set_border("0px none,0px none,1px solid #d3dce");this.addChild(_a.name,_a);_a=new Button("btnMaximize",null,"18","21","16","90",null,null,null,null,null,this);_a.set_taborder("0");_a.set_cssclass("btn_MDI_Max");_a.set_text("");this.addChild(_a.name,_a);_a=new Button("btnCascade",null,"18","21","16","70",null,null,null,null,null,this);_a.set_taborder("1");_a.set_cssclass("btn_MDI_Min");this.addChild(_a.name,_a);_a=new Button("btnCloseAll",null,"18","21","16","7",null,null,null,null,null,this);_a.set_taborder("2");_a.set_tooltiptext("Close All");_a.set_cssclass("btn_MDI_Allx");this.addChild(_a.name,_a);_a=new Button("btnHorizontal",null,"18","21","16","50",null,null,null,null,null,this);_a.set_taborder("3");_a.set_cssclass("btn_MDI_H");this.addChild(_a.name,_a);_a=new Button("btnTilevertical",null,"18","21","16","30",null,null,null,null,null,this);_a.set_taborder("4");_a.set_cssclass("btn_MDI_V");this.addChild(_a.name,_a);_a=new Tab("tabMdi","100","10",null,"30","109",null,null,null,null,null,this);_a.set_taborder("6");_a.set_tabindex("0");_a.set_showextrabutton("true");_a.set_cssclass("tab_MDI_Menu");_a.set_tabbuttonheight("29");_a.set_tabbuttonstartgap("2");_a.set_tabbuttongap("2");_a.set_usecontrolkey("false");this.addChild(_a.name,_a);_a=new Tabpage("Tabpage0",this.tabMdi);_a.set_text("Tabpage0");this.tabMdi.addChild(_a.name,_a);_a=new Button("btnMain","0","10","100","30",null,null,null,null,null,null,this);_a.set_taborder("7");_a.set_text("Main");_a.set_cssclass("btn_MDI_FrmMain");this.addChild(_a.name,_a);_a=new Button("btnTopChange",null,"0","56","10","76",null,null,null,null,null,this);_a.set_taborder("8");_a.set_cssclass("btn_MDI_Collapse");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.tabMdi.Tabpage0.form,function(_b){});this.tabMdi.Tabpage0.form.addLayout(_a.name,_a);_a=new Layout("default","",this._adjust_width,this._adjust_height,this,function(_b){});this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("FrameMdi.xfdl",function(){this.fvObjApp=this.gfnGetApplication();this.form_onload=function(_a,_b){this.tabMdi.removeTabpage(0);};this.fnAddTab=function(_b,_c){this.tabMdi.insertTabpage(_b, -1,"",_c);};this.tabMdi_onchanged=function(_a,_b){var _c=_a.tabpages[_b.postindex].name;this.fvObjApp.avWorkFrame[_c].setFocus();this.fvObjApp.avVFrameSet1.set_separatesize(this.fvObjApp.avWorkOpen);};this.tabMdi_onextrabuttonclick=function(_a,_b){this.fnFormClose(_a.tabpages[_b.index].name,_b.index);};this.fnFormClose=function(_b,_c){this.fvObjApp.avWorkFrame.frames[_b].form.close();if(this.gfnIsNull(_c)){for(var _e=0;_e<this.tabMdi.getTabpageCount();_e++ ){if(this.tabMdi.tabpages[_e].name==_b){this.tabMdi.removeTabpage(_e);break;}}}else{this.tabMdi.removeTabpage(_c);}if(this.tabMdi.getTabpageCount()==0){this.fvObjApp.avVFrameSet1.set_separatesize(this.fvObjApp.avMainOpen);}var _d=this.fvObjApp.gdsOpenMenu.findRow(this.FRAME_MENUCOLUMNS.winId,_b);this.fvObjApp.gdsOpenMenu.deleteRow(_d);};this.btnArrange_onclick=function(_a,_b){var _c=_a.name.replace("btn","");this.fnArrangeWin(_c);};this.fnArrangeWin=function(_b){_b=_b.toLowerCase();var _c=this.fvObjApp.avWorkFrame.frames.length;if(this.fvObjApp.gdsOpenMenu.getRowCount()<1){return;}var _d=[];switch(_b){case "maximize":for(var _f=0;_f<_c;_f++ ){this.fvObjApp.avWorkFrame.frames[_f].set_openstatus("maximize");this.fvObjApp.avWorkFrame.frames[_f].set_showtitlebar(false);this.fvObjApp.avWorkFrame.frames[_f].set_border("0px none");}break;case "closeall":for(var _f=_c-1;_f>=0;_f-- ){var _e=this.fvObjApp.avWorkFrame.frames[_f].name;if(!this.gfnIsNull(this.fvObjApp.avWorkFrame.frames[_f].form.divWork.form.lookup("fnClose"))){if(this.fvObjApp.avWorkFrame.frames[_f].form.divWork.form.fnClose()==false){_d.push(_e);}else{this.fnFormClose(_e);}}else{this.fnFormClose(_e);}}if(!this.gfnIsNull(_d)){this.gfnAlert("confirm.before.movepage","","msgClose",function(_g,_h){if(_h){for(var _f=0;_f<_d.length;_f++ ){this.fnFormClose(_d[_f]);}}});}break;default:this.fvObjApp.avVFrameSet1.set_separatesize(this.fvObjApp.avWorkOpen);if(_c<=1){break;}for(var _f=0;_f<_c;_f++ ){this.fvObjApp.avWorkFrame.frames[_f].set_showtitlebar(true);this.fvObjApp.avWorkFrame.frames[_f].set_border("1px solid #7f7f7b");this.fvObjApp.avWorkFrame.frames[_f].set_borderRadius("3px 3px");this.fvObjApp.avWorkFrame.frames[_f].set_openstatus("normal");this.fvObjApp.avWorkFrame.frames[_f].titlebar.closebutton.set_enable(false);}this.fvObjApp.avWorkFrame.arrange(_b);break;}};this.fnTabControl=function(_b,_c){if(_c=="select"){for(var _d=0;_d<this.tabMdi.getTabpageCount();_d++ ){if(this.tabMdi.tabpages[_d].name==_b){this.tabMdi.set_tabindex(_d);return;}}}};this.btnMain_onclick=function(_a,_b){this.fvObjApp.avVFrameSet1.set_separatesize(this.fvObjApp.avMainOpen);};this.tabMdi_onsetfocus=function(_a,_b){if(_a.getTabpageCount()>0){this.fvObjApp.avVFrameSet1.set_separatesize(this.fvObjApp.avWorkOpen);}};this.btnTopChange_onclick=function(_a,_b){if(_a.cssclass=="btn_MDI_Collapse"){_a.set_cssclass("btn_MDI_Expand");this.fvObjApp.avVFrameSet.set_separatesize("0,1,*");}else{_a.set_cssclass("btn_MDI_Collapse");this.fvObjApp.avVFrameSet.set_separatesize("0,50,*");}};});this.on_initEvent=function(){this.addEventHandler("onload",this.form_onload,this);this.addEventHandler("onsize",this.form_onsize,this);this.btnMaximize.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnCascade.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnCloseAll.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnHorizontal.addEventHandler("onclick",this.btnArrange_onclick,this);this.btnTilevertical.addEventHandler("onclick",this.btnArrange_onclick,this);this.tabMdi.addEventHandler("onchanged",this.tabMdi_onchanged,this);this.tabMdi.addEventHandler("onextrabuttonclick",this.tabMdi_onextrabuttonclick,this);this.tabMdi.addEventHandler("onsetfocus",this.tabMdi_onsetfocus,this);this.btnMain.addEventHandler("onclick",this.btnMain_onclick,this);this.btnTopChange.addEventHandler("onclick",this.btnTopChange_onclick,this);};this.loadIncludeScript("FrameMdi.xfdl");this.loadPreloadList();_a=null;};})();
(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("CompExt_FileUpDown");this.set_titletext("Component - FileUpDown");if(Form==this.constructor){this._setFormPosition(1038,650);}_a=new Dataset("ds_result",this);_a._setContents("<ColumnInfo><Column id=\"FILE_NAME\" type=\"string\" size=\"32\"/><Column id=\"FILE_TYPE\" type=\"string\" size=\"32\"/><Column id=\"FILE_SIZE\" type=\"bigdecimal\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("ds_up",this);_a._setContents("<ColumnInfo><Column id=\"FILE_NAME\" type=\"STRING\" size=\"32\"/><Column id=\"FILE_TYPE\" type=\"STRING\" size=\"32\"/><Column id=\"FILE_SIZE\" type=\"BIGDECIMAL\" size=\"8\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("Static03","10","40","250","28",null,null,null,null,null,null,this);_a.set_taborder("0");_a.set_text(" Basic Usage");_a.set_cssclass("sta_WF_TitleType1");this.addChild(_a.name,_a);_a=new FileUpload("fup_up","20","73","413","110",null,null,null,null,null,null,this);_a.set_taborder("1");_a.set_buttonsize("100");_a.set_cssclass("fup_WF_FileUp");this.addChild(_a.name,_a);_a=new Button("btn_add","438","73","102","28",null,null,null,null,null,null,this);_a.set_taborder("2");_a.set_text("append Item");this.addChild(_a.name,_a);_a=new Button("btn_del","438","106","102","28",null,null,null,null,null,null,this);_a.set_taborder("3");_a.set_text("delete Item");this.addChild(_a.name,_a);_a=new Button("btn_upload","550","73","140","28",null,null,null,null,null,null,this);_a.set_taborder("4");_a.set_text("File Upload");this.addChild(_a.name,_a);_a=new Grid("Grid00","20","188","520","140",null,null,null,null,null,null,this);_a.set_taborder("5");_a.set_binddataset("ds_result");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"190\"/><Column size=\"190\"/><Column size=\"100\"/></Columns><Rows><Row size=\"30\" band=\"head\"/><Row size=\"30\"/></Rows><Band id=\"head\"><Cell/><Cell col=\"1\" text=\"FILENAME\"/><Cell col=\"2\" text=\"FILETYPE\"/><Cell col=\"3\" text=\"FILESIZE\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:FILE_NAME\"/><Cell col=\"2\" text=\"bind:FILE_TYPE\"/><Cell col=\"3\" text=\"bind:FILE_SIZE\" textAlign=\"right\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new FileUpload("fup_upM","18","411","520","28",null,null,null,null,null,null,this);_a.set_taborder("6");_a.set_multiselect("true");_a.set_buttonsize("100");this.addChild(_a.name,_a);_a=new Button("btn_uploadM","550","411","140","28",null,null,null,null,null,null,this);_a.set_taborder("7");_a.set_text("File Upload");this.addChild(_a.name,_a);_a=new Grid("Grid01","18","451","520","162",null,null,null,null,null,null,this);_a.set_taborder("8");_a.set_binddataset("ds_up");_a.set_autofittype("col");_a.set_cssclass("fup_WF_FileUp");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"30\"/><Column size=\"190\"/><Column size=\"190\"/><Column size=\"100\"/></Columns><Rows><Row size=\"30\" band=\"head\"/><Row size=\"30\"/></Rows><Band id=\"head\"><Cell/><Cell col=\"1\" text=\"FILENAME\"/><Cell col=\"2\" text=\"FILETYPE\"/><Cell col=\"3\" text=\"FILESIZE\"/></Band><Band id=\"body\"><Cell text=\"expr:currow+1\"/><Cell col=\"1\" text=\"bind:FILE_NAME\"/><Cell col=\"2\" text=\"bind:FILE_TYPE\"/><Cell col=\"3\" text=\"bind:FILE_SIZE\" textAlign=\"right\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new FileDownload("fdn_down","545","188","140","28",null,null,null,null,null,null,this);_a.set_taborder("9");_a.set_text("File Download");this.addChild(_a.name,_a);_a=new Static("Static00","10","378","250","28",null,null,null,null,null,null,this);_a.set_taborder("10");_a.set_text(" Multi Select");_a.set_cssclass("sta_WF_TitleType1");this.addChild(_a.name,_a);_a=new Static("sta00","10","0","266","28",null,null,null,null,null,null,this);_a.set_taborder("11");_a.set_text("File Upload / Download");_a.set_cssclass("sta_WF_TitleMain");this.addChild(_a.name,_a);_a=new Layout("default","",1038,650,this,function(_b){});_a.set_mobileorientation("landscape");this.addLayout(_a.name,_a);};this.loadPreloadList=function(){};this.registerScript("CompExt_FileUpDown.xfdl",function(){this.uploadPath="/upload";this.CompExt_FileUpDown_onload=function(_a,_b){};this.objSubControl="";this.fup_up_onlbuttondown=function(_a,_b){this.objSubControl=_b.fromreferenceobject;};this.btn_add_onclick=function(_a,_b){this.fup_up.appendItem();};this.btn_del_onclick=function(_a,_b){var _c=this.fup_up.getItemIndex(this.objSubControl);if(_c<0){_c=this.fup_up.getItemCount()-1;}this.fup_up.deleteItem(_c);if(this.fup_up.getItemCount()==0){this.fup_up.appendItem();}};this.btn_upload_onclick=function(_a,_b){var _c="EduUrl::fileUpload.jsp?PATH="+this.uploadPath;this.fup_up.upload(_c);};this.fup_up_onsuccess=function(_a,_b){var _c=_b.datasets[0].saveXML();this.ds_result.loadXML(_c);};this.fup_upM_onitemchanged=function(_a,_b){if(_a.multiselect){this.ds_up.clearData();for(var _d=0;_d<_b.newvalue.length;_d++ ){sFileName=_b.newvalue[_d];var _c=this.ds_up.addRow();this.ds_up.setColumn(_c,"FILE_NAME",sFileName);}}};this.fup_upM_onsuccess=function(_a,_b){var _c=_b.datasets[0].saveXML();this.ds_up.loadXML(_c);};this.btn_uploadM_onclick=function(_a,_b){var _c="EduUrl::fileUpload.jsp?PATH="+this.uploadPath;this.fup_upM.upload(_c);};this.fdn_down_onclick=function(_a,_b){var _c=this.ds_result.getColumn(this.ds_result.rowposition,"FILE_NAME");var _d="EduUrl::fileDownload.jsp?PATH="+this.uploadPath+"&file="+_c;_a.download(_d);};});this.on_initEvent=function(){this.addEventHandler("onload",this.CompExt_FileUpDown_onload,this);this.fup_up.addEventHandler("onlbuttondown",this.fup_up_onlbuttondown,this);this.fup_up.addEventHandler("onsuccess",this.fup_up_onsuccess,this);this.fup_up.addEventHandler("onerror",this.fup_up_onerror,this);this.fup_up.addEventHandler("onitemchanged",this.fup_up_onitemchanged,this);this.btn_add.addEventHandler("onclick",this.btn_add_onclick,this);this.btn_del.addEventHandler("onclick",this.btn_del_onclick,this);this.btn_upload.addEventHandler("onclick",this.btn_upload_onclick,this);this.fup_upM.addEventHandler("onitemchanged",this.fup_upM_onitemchanged,this);this.fup_upM.addEventHandler("onsuccess",this.fup_upM_onsuccess,this);this.btn_uploadM.addEventHandler("onclick",this.btn_uploadM_onclick,this);this.fdn_down.addEventHandler("onclick",this.fdn_down_onclick,this);this.fdn_down.addEventHandler("onsuccess",this.fdn_down_onsuccess,this);};this.loadIncludeScript("CompExt_FileUpDown.xfdl");this.loadPreloadList();_a=null;};})();
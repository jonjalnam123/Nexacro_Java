(function(){return function(){if(!this._is_form){return;}var _a=null;this.on_create=function(){this.set_name("SamplePaging");this.set_titletext("그리드 페이징");if(Form==this.constructor){this._setFormPosition(1038,650);}_a=new Dataset("dsList",this);_a._setContents("<ColumnInfo><Column id=\"ID\" type=\"STRING\" size=\"256\"/><Column id=\"NAME\" type=\"STRING\" size=\"256\"/><Column id=\"DESCRIPTION\" type=\"STRING\" size=\"256\"/><Column id=\"USE_YN\" type=\"STRING\" size=\"256\"/><Column id=\"REG_USER\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dsSearch",this);_a._setContents("<ColumnInfo><Column id=\"records\" type=\"INT\" size=\"256\"/><Column id=\"page\" type=\"INT\" size=\"256\"/><Column id=\"recordsOffset\" type=\"INT\" size=\"256\"/><Column id=\"pageCount\" type=\"INT\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Dataset("dsPagingInfo",this);_a._setContents("<ColumnInfo><Column id=\"totalCount\" type=\"STRING\" size=\"256\"/></ColumnInfo>");this.addChild(_a.name,_a);_a=new Static("sta02","10","0","221","35",null,null,null,null,null,null,this);_a.set_taborder("0");_a.set_text("그리드 페이징");_a.set_cssclass("sta_WF_TitleMain");this.addChild(_a.name,_a);_a=new Static("sta03","10","35",null,"170","10",null,"980",null,null,null,this);_a.set_taborder("1");_a.set_text("그리드 페이징 구현 샘플이다.\r\n1. 페이지가 표현되는 영역에 Div를 생성하고 url을 Cmm::CmmPaging.xfdl 로 지정한다.\r\n2. 조회조건을 넘길 Dataset을 생성 하여 record, page, recordsOffset, pagecount 값을 설정한다.\r\n    초기 조회일 경우 page, recordsOffset, pagecount값은 default로 0으로 세팅, records값은 각 회면별 그리드에 표현될 목록수로 세팅\r\n       this.dsSearch.setColumn(nRow, \"records\", this.fvRecords);\r\n       this.dsSearch.setColumn(nRow, \"recordsOffset\", this.fvRecordsOffset); \r\n3. this.divPage.fnCreatePage(this.dsSearch, this.dsList, \"fnSearch\", this.grd00); 를 호출한다");_a.set_verticalAlign("top");_a.set_cssclass("sta_WF_Desc");this.addChild(_a.name,_a);_a=new Grid("grd00","10","271",null,null,"10","111",null,null,null,null,this);_a.set_taborder("2");_a.set_binddataset("dsList");_a.set_autofittype("col");_a._setContents("<Formats><Format id=\"default\"><Columns><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/><Column size=\"80\"/></Columns><Rows><Row size=\"30\" band=\"head\"/><Row size=\"30\"/></Rows><Band id=\"head\"><Cell text=\"ID\"/><Cell col=\"1\" text=\"NAME\"/><Cell col=\"2\" text=\"DESCRIPTION\"/><Cell col=\"3\" text=\"USE_YN\"/><Cell col=\"4\" text=\"REG_USER\"/></Band><Band id=\"body\"><Cell text=\"bind:ID\"/><Cell col=\"1\" text=\"bind:NAME\"/><Cell col=\"2\" text=\"bind:DESCRIPTION\"/><Cell col=\"3\" text=\"bind:USE_YN\"/><Cell col=\"4\" text=\"bind:REG_USER\"/></Band></Format></Formats>");this.addChild(_a.name,_a);_a=new Div("divSearch","10","215","1018","46",null,null,null,null,null,null,this);_a.set_taborder("3");_a.set_text("");_a.set_cssclass("div_WF_Search");this.addChild(_a.name,_a);_a=new Button("btnSearch",null,"9","60","28","10",null,null,null,null,null,this.divSearch.form);_a.set_taborder("0");_a.set_text("조회");_a.getSetter("uWord").set("search");_a.set_cssclass("btn_WF_FrmMain");this.divSearch.addChild(_a.name,_a);_a=new Static("Static01","0","9","100","28",null,null,"100",null,null,null,this.divSearch.form);_a.set_taborder("1");_a.set_text("목록갯수");_a.set_cssclass("sta_WF_SearchLabel");_a.getSetter("uWord").set("listcount");this.divSearch.addChild(_a.name,_a);_a=new Combo("cboCnt","100","9","112","28",null,null,null,null,null,null,this.divSearch.form);_a.set_taborder("2");_a.set_codecolumn("codecolumn");_a.set_datacolumn("datacolumn");var _b=new nexacro.NormalDataset("divSearch_form_cboCnt_innerdataset",_a);_b._setContents("<ColumnInfo><Column id=\"codecolumn\" size=\"256\"/><Column id=\"datacolumn\" size=\"256\"/></ColumnInfo><Rows><Row><Col id=\"codecolumn\">2</Col><Col id=\"datacolumn\">2</Col></Row><Row><Col id=\"codecolumn\">10</Col><Col id=\"datacolumn\">10</Col></Row><Row><Col id=\"codecolumn\">50</Col><Col id=\"datacolumn\">50</Col></Row><Row><Col id=\"codecolumn\">100</Col><Col id=\"datacolumn\">100</Col></Row></Rows>");_a.set_innerdataset(_b);_a.set_text("2");_a.set_value("2");_a.set_index("0");this.divSearch.addChild(_a.name,_a);_a=new Div("divPage","10",null,null,"30","10","81",null,null,null,null,this);_a.set_taborder("4");_a.set_url("Cmm::CmmPaging.xfdl");this.addChild(_a.name,_a);_a=new Layout("default","",0,0,this.divSearch.form,function(_c){});this.divSearch.form.addLayout(_a.name,_a);_a=new Layout("default","",0,0,this.divPage.form,function(_c){});this.divPage.form.addLayout(_a.name,_a);_a=new Layout("default","",1038,650,this,function(_c){});_a.set_mobileorientation("landscape");this.addLayout(_a.name,_a);};this.loadPreloadList=function(){this._addPreloadList("fdl","Cmm::CmmPaging.xfdl");};this.registerScript("SamplePaging.xfdl",function(){this.fvRecords=0;this.fvPage=0;this.fvRecordsOffset=0;this.fvTotalCount=0;this.fvPageCount=0;this.form_onload=function(_a,_b){this.gfnFormOnLoad(this);};this.fnCallback=function(_b,_c,_d){switch(_b){case "search":this.fnPagingSetting();break;}};this.fnPagingCallback=function(_b,_c){this.fvPage=_b;this.fvRecordsOffset=_c;this.fnSearch();};this.fnSearch=function(_a,_b){this.dsSearch.clearData();var _c=this.dsSearch.addRow();this.dsSearch.setColumn(_c,"records",this.fvRecords);this.dsSearch.setColumn(_c,"recordsOffset",this.fvRecordsOffset);var _d="search";var _e="selectPagingSample.do";var _f="dsSearch=dsSearch";var _g="dsList=dsList dsPagingInfo=dsPagingInfo";var _h="";var _i="fnCallback";var _j=true;this.gfnTransaction(_d,_e,_f,_g,_h,_i,_j);};this.fnPageInit=function(){this.fvRecords=this.divSearch.form.cboCnt.value;this.fvPage=0;this.fvRecordsOffset=0;this.fvPageCount=10;this.fnSearch();};this.fnPagingSetting=function(){this.fvTotalCount=nexacro.toNumber(this.dsPagingInfo.getColumn("totalCount"));this.divPage.form.fnCreatePage("fnPagingCallback",this.fvTotalCount,this.fvRecords,this.fvPage,this.fvPageCount);};this.divSearch_btnSearch_onclick=function(_a,_b){this.fnPageInit();};});this.on_initEvent=function(){this.addEventHandler("onload",this.form_onload,this);this.divSearch.form.btnSearch.addEventHandler("onclick",this.divSearch_btnSearch_onclick,this);};this.loadIncludeScript("SamplePaging.xfdl");this.loadPreloadList();_a=null;};})();
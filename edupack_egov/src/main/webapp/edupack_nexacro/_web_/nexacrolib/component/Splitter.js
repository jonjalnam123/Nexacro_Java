if(!nexacro.Splitter){nexacro.Splitter=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l){nexacro.Div.call(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);};var _pSplitter=nexacro._createPrototype(nexacro.Div,nexacro.Splitter);nexacro.Splitter.prototype=_pSplitter;_pSplitter._type_name="Splitter";_pSplitter.items=[];_pSplitter.type="horizontal";_pSplitter.min= -1;_pSplitter.max= -1;_pSplitter._event_list={"onmove":1,"ondrag":1,"onlbuttondown":1,"onlbuttonup":1,"onsplitterbeginmove":1,"onsplitterendmove":1,"cansplittermove":1,"onsplittermoved":1};_pSplitter.accessibilityrole="button";_pSplitter.on_create_contents=function(){nexacro.Div.prototype.on_create_contents.call(this);this._setEventHandler("onmove",this.on_notify_splitter_onmove,this);this._setEventHandler("onlbuttondown",this.on_notify_splitter_onlbuttondown,this);this._setEventHandler("onlbuttonup",this.on_notify_splitter_onlbuttonup,this);var _a=this._refform;if(_a){_a._setEventHandler("ondragmove",this.on_notify_splitter_ondragmove,this);}this.items=[];};_pSplitter.on_created_contents=function(_a){this.form.on_created(_a);};_pSplitter.on_destroy_contents=function(){var _a=this._refform;if(_a){_a._removeEventHandler("ondragmove",this.on_notify_splitter_ondragmove,this);}};var dragObj=null;var nLeftStartValue,nRightStartValue,nTopStartValue,nBottomStartValue,nHeightStartValue,nWidthStartValue;_pSplitter.set_max=function(_a){if(_a!=this.max){this.max=_a;this.on_apply_max();}};_pSplitter.on_apply_max=function(){};_pSplitter.set_min=function(_a){if(_a!=this.min){this.min=_a;this.on_apply_min();}};_pSplitter.on_apply_min=function(){};_pSplitter.set_type=function(_a){if(_a!=this.type){this.type=_a;this.on_apply_type();}};_pSplitter.on_apply_type=function(){};_pSplitter.resetMove=function(){var _a=new nexacro.MoveEventInfo(this,"onmove",this.getOffsetLeft(),this.getOffsetTop());this.on_notify_splitter_onmove(this,_a);};_pSplitter.addItem=function(_a){for(var _d=0;_d<_a.length;_d++ ){var _b=_a[_d];if(typeof (_b.componentid)=="string"){var _c=this._refform.components[_b.componentid];}else{var _c=this._refform=_b.componentid;_b.componentid=_b.componentid.name;}_b.orgLeft=_c.left;_b.orgTop=_c.top;_b.orgRight=_c.right;_b.orgBottom=_c.bottom;_b.orgWidth=_c.width;_b.orgHeight=_c.height;this.items.push(_b);}this.resetMove();this._vComp={};this._hComp={};if(this.type=="vertical"){this.set_cursor("s-resize");}else{this.set_cursor("e-resize");}};_pSplitter.addSplitter=function(_a,_b,_c,_d){if(this.type=="vertical"){if(this.isNull(_a)==false){this._vComp["topComp"]=_a;}if(this.isNull(_b)==false){this._vComp["lowerComp"]=_b;}}else if(this.type=="horizontal"){if(this.isNull(_c)==false){this._hComp["leftComp"]=_c;}if(this.isNull(_d)==false){this._hComp["rightComp"]=_d;}}};_pSplitter.isNull=function(_a){if(_a==null||_a==""){return true;}return false;};_pSplitter.on_fire_onsplitterbeginmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onsplitterbeginmove&&this.onsplitterbeginmove._has_handlers){var _n=new nexacro.MouseEventInfo(_a,"onsplitterbeginmove",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this.onsplitterbeginmove._fireEvent(this,_n);}};_pSplitter.on_fire_onsplitterendmove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onsplitterendmove&&this.onsplitterendmove._has_handlers){var _n=new nexacro.MouseEventInfo(_a,"onsplitterendmove",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this.onsplitterendmove._fireEvent(this,_n);}};_pSplitter.on_fire_cansplittermove=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.cansplittermove&&this.cansplittermove._has_handlers){var _n=new nexacro.MouseEventInfo(_a,"cansplittermove",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this.cansplittermove._fireEvent(this,_n);}};_pSplitter.on_fire_onsplittermoved=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){if(this.onsplittermoved&&this.onsplittermoved._has_handlers){var _n=new nexacro.MouseEventInfo(_a,"onsplittermoved",_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m);this.onsplittermoved._fireEvent(this,_n);}};_pSplitter.on_fire_user_ondrag=function(_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m){this.on_fire_onsplitterbeginmove(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this.on_fire_onsplitterendmove(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this.on_fire_cansplittermove(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);this.on_fire_onsplittermoved(this,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l);var _n=this._getDragData();var _o=new nexacro.DragEventInfo(this,"ondrag",_n,null,this,_m,_k,_l,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j);return [true,this,_m,_n,_o.userdata];};_pSplitter.on_notify_splitter_onmove=function(_a,_b){var _c,_d,_e,_f=0,_g=0,_h=0,_i=0;var _j=0,_k=0,_l=0,_m=0,_n=0,_o=0;for(var _p=0;_p<this.items.length;_p++ ){_c=this.items[_p].position;_d=this.items[_p].offset;_e=this._refform.components[this.items[_p].componentid];_j=_e.getOffsetLeft();_k=_e.getOffsetTop();_l=_e.getOffsetWidth();_m=_e.getOffsetHeight();_n=_e.getOffsetRight();_o=_e.getOffsetBottom();if(this.type=="horizontal"){_g=_k;_i=_m;if(_c=="left"){_f=_j;_h=(_b.x-_d)-_f;_e.move(_f,this.items[_p].orgTop,_h,_i,this.items[_p].orgRight,this.items[_p].orgBottom);}else if(_c=="right"){_f=_b.x+this.getOffsetWidth()+_d;_h=_n-_f;_e.move(_f,this.items[_p].orgTop,_h,_i,this.items[_p].orgRight,this.items[_p].orgBottom);if(this.items[_p].orgWidth==null){_e.width=null;}if(this.items[_p].orgRight!=null){_e.right=this.items[_p].orgRight;}}else if(_c=="moveRight"){_f=_b.x+this.getOffsetWidth()+_d;_h=_l;_e.move(_f,this.items[_p].orgTop,_h,_i,this.items[_p].orgRight,this.items[_p].orgBottom);if(this.items[_p].orgWidth==null){_e.width=null;}if(this.items[_p].orgRight!=null){_e.right=this.items[_p].orgRight;}}else if(_c=="moveLeft"){_f=(_b.x-_d)-_l;_h=_l;_e.move(_f,_g,_h,_i);}if(this.items[_p].orgHeight==null){_e.height=null;}if(this.items[_p].orgBottom!=null){_e.bottom=this.items[_p].orgBottom;}}else if(this.type=="vertical"){_h=_l;_f=_e.left;if(_c=="top"){_g=_k;_i=(_b.y-_d)-_g;_e.move(_f,_g,_h,_i);}else if(_c=="bottom"){_g=_b.y+this.getOffsetHeight()+_d;_i=_o-_g;_e.move(_f,_g,_h,_i);if(this.items[_p].orgHeight==null){_e.height=null;}if(this.items[_p].orgBottom!=null){_e.bottom=this.items[_p].orgBottom;}}else if(_c=="moveBottom"){_g=_b.y+this.getOffsetHeight()+_d;_e.move(_f,_g,_h,_m);}else if(_c=="moveTop"){_g=_b.y-_d-_m;_e.move(_f,_g,_h,_m);}if(this.items[_p].orgWidth==null){_e.width=null;}if(this.items[_p].orgRight!=null){_e.right=this.items[_p].orgRight;}}}};_pSplitter.on_notify_splitter_onlbuttondown=function(_a,_b){nLeftStartValue=this.left;nRightStartValue=this.right;nTopStartValue=this.top;nBottomStartValue=this.bottom;nHeightStartValue=this.height;nWidthStartValue=this.width;};_pSplitter.on_notify_splitter_onlbuttonup=function(_a,_b){if(nHeightStartValue==null){this.height=null;}if(nWidthStartValue==null){this.width=null;}if(nLeftStartValue==null){this.left=null;}if(nRightStartValue==null){this.right=null;}if(nTopStartValue==null){this.top=null;}if(nHeightStartValue==null){this.height=null;}if(this.type=="horizontal"){this.top=nTopStartValue;this.bottom=nBottomStartValue;if(nRightStartValue!=null){if(nRightStartValue.toString().charAt(nRightStartValue.length-1)=="%"){this.right=(parseInt((1-(this.getOffsetRight()/this.parent.getOffsetWidth()))* 1000)/10)+"%";}else{this.right=this.parent.getOffsetWidth()-this.getOffsetRight();}}else if(nLeftStartValue.toString().charAt(nLeftStartValue.length-1)=="%"){this.left=(parseInt((this.getOffsetLeft()/this.parent.getOffsetWidth())* 1000)/10)+"%";}}else if(this.type=="vertical"){this.left=nLeftStartValue;this.right=nRightStartValue;if(nBottomStartValue!=null){if(nBottomStartValue.toString().charAt(nBottomStartValue.length-1)=="%"){this.bottom=(parseInt((1-(this.getOffsetBottom()/this.parent.getOffsetHeight()))* 1000)/10)+"%";}else{this.bottom=this.parent.getOffsetHeight()-this.getOffsetBottom();}}else if(nTopStartValue.toString().charAt(nTopStartValue.length-1)=="%"){this.top=(parseInt((this.getOffsetTop()/this.parent.getOffsetHeight())* 1000)/10)+"%";}}};_pSplitter.on_notify_splitter_ondragmove=function(_a,_b){dragObj=_b.sourceobject;if(dragObj!=this){return;}var _c=this.left;var _d=this.top;if(this.type=="horizontal"){_c=_b.clientx-this.getOffsetWidth()/2;if(this.min!= -1&&_c<this.min){_c=parseInt(this.min);}if(this.isNull(this._hComp["leftComp"])==false){if(parseInt(this._hComp["leftComp"].getOffsetRight())+10>_c){_c=parseInt(this._hComp["leftComp"].getOffsetRight())+10;}}if(this.max!= -1&&_c>this.max){_c=parseInt(this.max);}if(this.isNull(this._hComp["rightComp"])==false){if(parseInt(this._hComp["rightComp"].getOffsetLeft())-25<_c){_c=parseInt(this._hComp["rightComp"].getOffsetLeft())-25;}}if(_c<0){_c=0;}if(_c+parseInt(this.getOffsetWidth())>parseInt(this._refform.getOffsetWidth())){_c=parseInt(this._refform.getOffsetWidth())-parseInt(this.getOffsetWidth());}}else if(this.type=="vertical"){var _d=_b.clienty-this.getOffsetHeight()/2;if(this.min!= -1&&_d<this.min){_d=parseInt(this.min);}if(this.isNull(this._vComp["topComp"])==false){if(parseInt(this._vComp["topComp"].getOffsetBottom())+10>_d){_d=parseInt(this._vComp["topComp"].getOffsetBottom())+10;}}if(this.max!= -1&&_d>this.max){_d=parseInt(this.max);}if(this.isNull(this._vComp["lowerComp"])==false){if(parseInt(this._vComp["lowerComp"].getOffsetTop())-25<_d){_d=parseInt(this._vComp["lowerComp"].getOffsetTop())-25;}}if(_d<0){_d=0;}if(_d+parseInt(this.getOffsetHeight())>parseInt(this._refform.getOffsetHeight())){_d=parseInt(this._refform.getOffsetHeight())-parseInt(this.getOffsetHeight());}}this.move(_c,_d,nWidthStartValue,nHeightStartValue,nRightStartValue,nBottomStartValue);this._refform.resetScroll();return true;};delete _pSplitter;};
